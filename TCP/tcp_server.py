import socket

# Create a socket object (server)
socket_server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

# Get hostname
host = socket.gethostname()
host_ip = socket.gethostbyname(host)
print(f"Host IP: {host_ip}")

port = 444

# Bind to the port
socket_server.bind((host_ip, port))

# Listener
socket_server.listen(3)

while True:
    # Create a socket object (client)
    client_socket, address = socket_server.accept()
    print(f"Received connection from {address}")

    # Send a message to the client
    # message = "Connection established"
    message = input()
    client_socket.send(message.encode('ascii'))

    # Close the connection
    client_socket.close()